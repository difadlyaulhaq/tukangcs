import { c as createComponent, d as renderTemplate, b as renderScript, r as renderHead } from '../chunks/astro/server_BmReEcGK.mjs';
import 'kleur/colors';
import 'clsx';
/* empty css                                     */
export { renderers } from '../renderers.mjs';

var __freeze = Object.freeze;
var __defProp = Object.defineProperty;
var __template = (cooked, raw) => __freeze(__defProp(cooked, "raw", { value: __freeze(raw || cooked.slice()) }));
var _a;
const $$Dashboard = createComponent(async ($$result, $$props, $$slots) => {
  return renderTemplate(_a || (_a = __template(['<html lang="id" data-astro-cid-3nssi2tu> <head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Dashboard - TukangCS</title><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">', `</head> <body data-astro-cid-3nssi2tu> <div class="header" data-astro-cid-3nssi2tu> <div style="display: flex; align-items: center; gap: 1rem;" data-astro-cid-3nssi2tu> <button class="mobile-menu-toggle" onclick="toggleSidebar()" data-astro-cid-3nssi2tu> <i class="fas fa-bars" data-astro-cid-3nssi2tu></i> </button> <div class="logo" data-astro-cid-3nssi2tu> <i class="fas fa-headset" data-astro-cid-3nssi2tu></i> <span data-astro-cid-3nssi2tu>TukangCS</span> </div> </div> <div class="user-header" data-astro-cid-3nssi2tu> <div class="user-avatar" data-astro-cid-3nssi2tu>U</div> <button class="logout-btn" onclick="logout()" data-astro-cid-3nssi2tu> <i class="fas fa-sign-out-alt" data-astro-cid-3nssi2tu></i> <span data-astro-cid-3nssi2tu>Logout</span> </button> </div> </div> <div class="overlay" id="overlay" onclick="closeSidebar()" data-astro-cid-3nssi2tu></div> <div class="layout" data-astro-cid-3nssi2tu> <nav class="sidebar" id="sidebar" data-astro-cid-3nssi2tu> <ul class="sidebar-menu" data-astro-cid-3nssi2tu> <li class="menu-item" data-astro-cid-3nssi2tu> <a href="javascript:void(0)" class="menu-link active" onclick="showSection('dashboard', event)" data-astro-cid-3nssi2tu> <span class="menu-icon" data-astro-cid-3nssi2tu><i class="fas fa-home" data-astro-cid-3nssi2tu></i></span>
Dashboard
</a> </li> <li class="menu-item" data-astro-cid-3nssi2tu> <a href="javascript:void(0)" class="menu-link" onclick="showSection('social-media', event)" data-astro-cid-3nssi2tu> <span class="menu-icon" data-astro-cid-3nssi2tu><i class="fas fa-mobile-alt" data-astro-cid-3nssi2tu></i></span>
Kelola Media Sosial
</a> </li> <li class="menu-item" data-astro-cid-3nssi2tu> <a href="javascript:void(0)" class="menu-link" onclick="showSection('knowledge-base', event)" data-astro-cid-3nssi2tu> <span class="menu-icon" data-astro-cid-3nssi2tu><i class="fas fa-folder-open" data-astro-cid-3nssi2tu></i></span>
Knowledge Base
</a> </li> <li class="menu-item" data-astro-cid-3nssi2tu> <a href="javascript:void(0)" class="menu-link" onclick="showSection('sentiment-analysis', event)" data-astro-cid-3nssi2tu> <span class="menu-icon" data-astro-cid-3nssi2tu><i class="fas fa-chart-pie" data-astro-cid-3nssi2tu></i></span>
Analisis Sentimen
</a> </li> <li class="menu-item" data-astro-cid-3nssi2tu> <a href="javascript:void(0)" class="menu-link" onclick="showSection('chatbot', event)" data-astro-cid-3nssi2tu> <span class="menu-icon" data-astro-cid-3nssi2tu><i class="fas fa-robot" data-astro-cid-3nssi2tu></i></span>
Chatbot AI
</a> </li> <li class="menu-item" data-astro-cid-3nssi2tu> <a href="javascript:void(0)" class="menu-link" onclick="showSection('analytics', event)" data-astro-cid-3nssi2tu> <span class="menu-icon" data-astro-cid-3nssi2tu><i class="fas fa-chart-line" data-astro-cid-3nssi2tu></i></span>
Analytics
</a> </li> </ul> </nav> <main class="main-content" data-astro-cid-3nssi2tu> <!-- Dashboard Section --> <div id="dashboard" class="content-section active" data-astro-cid-3nssi2tu> <div class="welcome-card" data-astro-cid-3nssi2tu> <h1 class="welcome-title" data-astro-cid-3nssi2tu> <i class="fas fa-hand-wave" data-astro-cid-3nssi2tu></i>
Selamat Datang! \u{1F44B}
</h1> <p class="welcome-subtitle" data-astro-cid-3nssi2tu>Anda berhasil masuk ke dashboard TukangCS</p> <div class="user-info" data-astro-cid-3nssi2tu> <h3 data-astro-cid-3nssi2tu><i class="fas fa-user-circle" data-astro-cid-3nssi2tu></i> Informasi Profil</h3> <p data-astro-cid-3nssi2tu><strong data-astro-cid-3nssi2tu>Email:</strong> <span id="user-email" data-astro-cid-3nssi2tu>-</span></p> <p data-astro-cid-3nssi2tu><strong data-astro-cid-3nssi2tu>Nama UMKM:</strong> <span id="user-nama" data-astro-cid-3nssi2tu>-</span></p> <p data-astro-cid-3nssi2tu><strong data-astro-cid-3nssi2tu>Sektor:</strong> <span id="user-sektor" data-astro-cid-3nssi2tu>-</span></p> <p data-astro-cid-3nssi2tu><strong data-astro-cid-3nssi2tu>Platform Sosmed:</strong> <span id="user-sosmed" data-astro-cid-3nssi2tu>-</span></p> <p data-astro-cid-3nssi2tu><strong data-astro-cid-3nssi2tu>Bergabung:</strong> <span id="user-bergabung" data-astro-cid-3nssi2tu>-</span></p> </div> </div> <div class="card" data-astro-cid-3nssi2tu> <h2 class="card-title" data-astro-cid-3nssi2tu><i class="fas fa-chart-bar" data-astro-cid-3nssi2tu></i> Ringkasan Aktivitas</h2> <div class="sentiment-stats" data-astro-cid-3nssi2tu> <div class="stat-card" data-astro-cid-3nssi2tu> <div class="stat-number stat-positive" id="stat-pesan-masuk" data-astro-cid-3nssi2tu>0</div> <div data-astro-cid-3nssi2tu>Pesan Masuk Hari Ini</div> </div> <div class="stat-card" data-astro-cid-3nssi2tu> <div class="stat-number stat-neutral" id="stat-respon-otomatis" data-astro-cid-3nssi2tu>0</div> <div data-astro-cid-3nssi2tu>Respon Otomatis</div> </div> <div class="stat-card" data-astro-cid-3nssi2tu> <div class="stat-number stat-negative" id="stat-perlu-perhatian" data-astro-cid-3nssi2tu>0</div> <div data-astro-cid-3nssi2tu>Perlu Perhatian</div> </div> </div> <div style="margin-top: 2rem;" data-astro-cid-3nssi2tu> <h3 style="margin-bottom: 1rem;" data-astro-cid-3nssi2tu>Aktivitas Terbaru</h3> <div id="aktivitas-terbaru" style="background: #f8f9fa; border-radius: 8px; padding: 1.5rem;" data-astro-cid-3nssi2tu> <!-- Diisi via JS --> </div> </div> </div> </div> <!-- Social Media Management Section --> <div id="social-media" class="content-section" data-astro-cid-3nssi2tu> <div class="card" data-astro-cid-3nssi2tu> <h2 class="card-title" data-astro-cid-3nssi2tu><i class="fas fa-mobile-alt" data-astro-cid-3nssi2tu></i> Kelola Media Sosial</h2> <p data-astro-cid-3nssi2tu>Hubungkan dan kelola akun media sosial Anda dalam satu dashboard.</p> <div class="social-platform connected whatsapp" data-astro-cid-3nssi2tu> <!-- Tambahkan di bagian WhatsApp pada dashboard --> <div class="social-platform disconnected whatsapp" id="wa-platform" data-astro-cid-3nssi2tu> <div class="platform-info" data-astro-cid-3nssi2tu> <span class="platform-icon" data-astro-cid-3nssi2tu><i class="fab fa-whatsapp" data-astro-cid-3nssi2tu></i></span> <div data-astro-cid-3nssi2tu> <h4 data-astro-cid-3nssi2tu>WhatsApp Business</h4> <p id="wa-phone" data-astro-cid-3nssi2tu>Belum terhubung</p> </div> </div> <div data-astro-cid-3nssi2tu> <span class="status-badge status-disconnected" id="wa-status" data-astro-cid-3nssi2tu>Terputus</span> <button class="btn" id="wa-connect-btn" style="margin-left: 0.5rem;" data-astro-cid-3nssi2tu> <i class="fas fa-link" data-astro-cid-3nssi2tu></i> Hubungkan
</button> </div> </div> <!-- Modal QR Code --> <div id="wa-qr-modal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.7); z-index: 2000; align-items: center; justify-content: center;" data-astro-cid-3nssi2tu> <div style="background: white; padding: 2rem; border-radius: 12px; text-align: center;" data-astro-cid-3nssi2tu> <h3 style="margin-bottom: 1rem;" data-astro-cid-3nssi2tu>Scan QR Code</h3> <div id="wa-qr-img" data-astro-cid-3nssi2tu></div> <p style="margin-top: 1rem;" data-astro-cid-3nssi2tu>Scan QR code ini dengan WhatsApp di perangkat Anda</p> <button class="btn" style="margin-top: 1rem;" onclick="document.getElementById('wa-qr-modal').style.display='none'" data-astro-cid-3nssi2tu>Tutup</button> </div> </div> </div> <div class="social-platform connected instagram" data-astro-cid-3nssi2tu> <div class="platform-info" data-astro-cid-3nssi2tu> <span class="platform-icon" data-astro-cid-3nssi2tu><i class="fab fa-instagram" data-astro-cid-3nssi2tu></i></span> <div data-astro-cid-3nssi2tu> <h4 data-astro-cid-3nssi2tu>Instagram</h4> <p data-astro-cid-3nssi2tu>@tokoserbaguanajaya</p> </div> </div> <div data-astro-cid-3nssi2tu> <span class="status-badge status-connected" data-astro-cid-3nssi2tu>Terhubung</span> <button class="btn btn-secondary" style="margin-left: 0.5rem;" data-astro-cid-3nssi2tu> <i class="fas fa-cog" data-astro-cid-3nssi2tu></i> Kelola
</button> </div> </div> <div class="social-platform disconnected facebook" data-astro-cid-3nssi2tu> <div class="platform-info" data-astro-cid-3nssi2tu> <span class="platform-icon" data-astro-cid-3nssi2tu><i class="fab fa-facebook" data-astro-cid-3nssi2tu></i></span> <div data-astro-cid-3nssi2tu> <h4 data-astro-cid-3nssi2tu>Facebook</h4> <p data-astro-cid-3nssi2tu>Belum terhubung</p> </div> </div> <div data-astro-cid-3nssi2tu> <span class="status-badge status-disconnected" data-astro-cid-3nssi2tu>Terputus</span> <button class="btn" style="margin-left: 0.5rem;" onclick="connectPlatform('Facebook')" data-astro-cid-3nssi2tu> <i class="fas fa-link" data-astro-cid-3nssi2tu></i> Hubungkan
</button> </div> </div> <div class="social-platform disconnected twitter" data-astro-cid-3nssi2tu> <div class="platform-info" data-astro-cid-3nssi2tu> <span class="platform-icon" data-astro-cid-3nssi2tu><i class="fab fa-twitter" data-astro-cid-3nssi2tu></i></span> <div data-astro-cid-3nssi2tu> <h4 data-astro-cid-3nssi2tu>Twitter/X</h4> <p data-astro-cid-3nssi2tu>Belum terhubung</p> </div> </div> <div data-astro-cid-3nssi2tu> <span class="status-badge status-disconnected" data-astro-cid-3nssi2tu>Terputus</span> <button class="btn" style="margin-left: 0.5rem;" onclick="connectPlatform('Twitter')" data-astro-cid-3nssi2tu> <i class="fas fa-link" data-astro-cid-3nssi2tu></i> Hubungkan
</button> </div> </div> </div> </div> <!-- Knowledge Base Section --> <div id="knowledge-base" class="content-section" data-astro-cid-3nssi2tu> <div class="card" data-astro-cid-3nssi2tu> <h2 class="card-title" data-astro-cid-3nssi2tu><i class="fas fa-folder-open" data-astro-cid-3nssi2tu></i> Knowledge Base</h2> <p data-astro-cid-3nssi2tu>Upload dokumen perusahaan dan data teks untuk melatih chatbot AI Anda.</p> <div class="form-group" data-astro-cid-3nssi2tu> <label class="form-label" data-astro-cid-3nssi2tu>Upload Dokumen Perusahaan</label> <div class="upload-area" onclick="document.getElementById('fileInput').click()" data-astro-cid-3nssi2tu> <div class="upload-icon" data-astro-cid-3nssi2tu><i class="fas fa-cloud-upload-alt" data-astro-cid-3nssi2tu></i></div> <p data-astro-cid-3nssi2tu>Klik untuk upload dokumen (PDF, DOC, TXT)</p> <small data-astro-cid-3nssi2tu>Maksimal 10MB per file</small> </div> <input type="file" id="fileInput" style="display: none;" multiple accept=".pdf,.doc,.docx,.txt" data-astro-cid-3nssi2tu> </div> <div class="form-group" data-astro-cid-3nssi2tu> <label class="form-label" data-astro-cid-3nssi2tu>Tambah Data Teks</label> <textarea class="form-textarea" placeholder="Masukkan informasi tentang produk, layanan, FAQ, atau data perusahaan lainnya..." data-astro-cid-3nssi2tu></textarea> <button class="btn" style="margin-top: 0.5rem;" data-astro-cid-3nssi2tu> <i class="fas fa-save" data-astro-cid-3nssi2tu></i> Simpan Data Teks
</button> </div> <h3 style="margin: 2rem 0 1rem 0;" data-astro-cid-3nssi2tu><i class="fas fa-file-alt" data-astro-cid-3nssi2tu></i> Dokumen Tersimpan</h3> <div class="document-item" data-astro-cid-3nssi2tu> <div class="document-info" data-astro-cid-3nssi2tu> <span class="document-icon" data-astro-cid-3nssi2tu><i class="fas fa-file-pdf" data-astro-cid-3nssi2tu></i></span> <div data-astro-cid-3nssi2tu> <h4 data-astro-cid-3nssi2tu>Katalog Produk 2025.pdf</h4> <small data-astro-cid-3nssi2tu>Diupload 20 Juni 2025 \u2022 2.3 MB</small> </div> </div> <button class="btn btn-danger" data-astro-cid-3nssi2tu> <i class="fas fa-trash" data-astro-cid-3nssi2tu></i> Hapus
</button> </div> <div class="document-item" data-astro-cid-3nssi2tu> <div class="document-info" data-astro-cid-3nssi2tu> <span class="document-icon" data-astro-cid-3nssi2tu><i class="fas fa-file-alt" data-astro-cid-3nssi2tu></i></span> <div data-astro-cid-3nssi2tu> <h4 data-astro-cid-3nssi2tu>FAQ Pelanggan</h4> <small data-astro-cid-3nssi2tu>Data teks \u2022 1,245 karakter</small> </div> </div> <button class="btn btn-danger" data-astro-cid-3nssi2tu> <i class="fas fa-trash" data-astro-cid-3nssi2tu></i> Hapus
</button> </div> <div class="document-item" data-astro-cid-3nssi2tu> <div class="document-info" data-astro-cid-3nssi2tu> <span class="document-icon" data-astro-cid-3nssi2tu><i class="fas fa-file-word" data-astro-cid-3nssi2tu></i></span> <div data-astro-cid-3nssi2tu> <h4 data-astro-cid-3nssi2tu>Kebijakan Return.docx</h4> <small data-astro-cid-3nssi2tu>Diupload 19 Juni 2025 \u2022 1.1 MB</small> </div> </div> <button class="btn btn-danger" data-astro-cid-3nssi2tu> <i class="fas fa-trash" data-astro-cid-3nssi2tu></i> Hapus
</button> </div> </div> </div> <!-- Sentiment Analysis Section --> <div id="sentiment-analysis" class="content-section" data-astro-cid-3nssi2tu> <div class="card" data-astro-cid-3nssi2tu> <h2 class="card-title" data-astro-cid-3nssi2tu><i class="fas fa-chart-pie" data-astro-cid-3nssi2tu></i> Analisis Sentimen</h2> <p data-astro-cid-3nssi2tu>Analisis sentimen dari pesan pelanggan dan visualisasi dengan word cloud.</p> <div class="sentiment-stats" data-astro-cid-3nssi2tu> <div class="stat-card" data-astro-cid-3nssi2tu> <div class="stat-number stat-positive" data-astro-cid-3nssi2tu>67%</div> <div data-astro-cid-3nssi2tu>Sentimen Positif</div> </div> <div class="stat-card" data-astro-cid-3nssi2tu> <div class="stat-number stat-neutral" data-astro-cid-3nssi2tu>23%</div> <div data-astro-cid-3nssi2tu>Sentimen Netral</div> </div> <div class="stat-card" data-astro-cid-3nssi2tu> <div class="stat-number stat-negative" data-astro-cid-3nssi2tu>10%</div> <div data-astro-cid-3nssi2tu>Sentimen Negatif</div> </div> </div> <h3 style="margin: 2rem 0 1rem 0;" data-astro-cid-3nssi2tu><i class="fas fa-cloud" data-astro-cid-3nssi2tu></i> Word Cloud</h3> <div class="wordcloud-container" id="wordcloudContainer" data-astro-cid-3nssi2tu> <div style="text-align: center; color: #667eea;" data-astro-cid-3nssi2tu> <div style="font-size: 4rem; margin-bottom: 1rem;" data-astro-cid-3nssi2tu><i class="fas fa-cloud" data-astro-cid-3nssi2tu></i></div> <h3 data-astro-cid-3nssi2tu>Word Cloud akan muncul di sini</h3> <p data-astro-cid-3nssi2tu>Berdasarkan analisis pesan pelanggan terbaru</p> <button class="btn" style="margin-top: 1rem;" onclick="generateWordCloud()" data-astro-cid-3nssi2tu> <i class="fas fa-sync-alt" data-astro-cid-3nssi2tu></i> Generate Word Cloud
</button> </div> </div> <div class="form-group" style="margin-top: 2rem;" data-astro-cid-3nssi2tu> <label class="form-label" data-astro-cid-3nssi2tu>Filter Periode</label> <div style="display: flex; gap: 1rem; align-items: center; flex-wrap: wrap;" data-astro-cid-3nssi2tu> <select class="form-select" style="width: auto; flex: 1;" data-astro-cid-3nssi2tu> <option data-astro-cid-3nssi2tu>7 hari terakhir</option> <option data-astro-cid-3nssi2tu>30 hari terakhir</option> <option data-astro-cid-3nssi2tu>3 bulan terakhir</option> <option data-astro-cid-3nssi2tu>Custom</option> </select> <button class="btn" data-astro-cid-3nssi2tu> <i class="fas fa-redo" data-astro-cid-3nssi2tu></i> Refresh Analisis
</button> </div> </div> </div> </div> <!-- Chatbot Section --> <div id="chatbot" class="content-section" data-astro-cid-3nssi2tu> <div class="card" data-astro-cid-3nssi2tu> <h2 class="card-title" data-astro-cid-3nssi2tu><i class="fas fa-robot" data-astro-cid-3nssi2tu></i> Chatbot AI</h2> <p data-astro-cid-3nssi2tu>Konfigurasi dan kelola chatbot AI untuk customer service otomatis.</p> <div style="background: rgba(255, 193, 7, 0.1); border-left: 4px solid #ffc107; padding: 1.5rem; border-radius: 8px; margin: 1.5rem 0;" data-astro-cid-3nssi2tu> <h3 style="display: flex; align-items: center; gap: 10px; margin-bottom: 0.8rem;" data-astro-cid-3nssi2tu> <i class="fas fa-tools" style="color: #ffc107;" data-astro-cid-3nssi2tu></i> <span data-astro-cid-3nssi2tu>\u{1F6A7} Coming Soon</span> </h3> <p data-astro-cid-3nssi2tu>Fitur chatbot AI sedang dalam pengembangan dan akan segera hadir!</p> <p style="margin-top: 0.8rem;" data-astro-cid-3nssi2tu>Dapatkan notifikasi saat fitur ini dirilis:</p> <div style="display: flex; gap: 10px; margin-top: 1rem; flex-wrap: wrap;" data-astro-cid-3nssi2tu> <input type="email" placeholder="Email Anda" class="form-input" style="flex: 1; min-width: 250px;" data-astro-cid-3nssi2tu> <button class="btn" data-astro-cid-3nssi2tu> <i class="fas fa-bell" data-astro-cid-3nssi2tu></i> Beritahu Saya
</button> </div> </div> </div> </div> <!-- Analytics Section --> <div id="analytics" class="content-section" data-astro-cid-3nssi2tu> <div class="card" data-astro-cid-3nssi2tu> <h2 class="card-title" data-astro-cid-3nssi2tu><i class="fas fa-chart-line" data-astro-cid-3nssi2tu></i> Analytics</h2> <p data-astro-cid-3nssi2tu>Dashboard analitik lengkap untuk performa bisnis dan interaksi pelanggan.</p> <div style="background: rgba(255, 193, 7, 0.1); border-left: 4px solid #ffc107; padding: 1.5rem; border-radius: 8px; margin: 1.5rem 0;" data-astro-cid-3nssi2tu> <h3 style="display: flex; align-items: center; gap: 10px; margin-bottom: 0.8rem;" data-astro-cid-3nssi2tu> <i class="fas fa-tools" style="color: #ffc107;" data-astro-cid-3nssi2tu></i> <span data-astro-cid-3nssi2tu>\u{1F6A7} Coming Soon</span> </h3> <p data-astro-cid-3nssi2tu>Fitur analytics dashboard sedang dalam pengembangan dan akan segera hadir!</p> <p style="margin-top: 0.8rem;" data-astro-cid-3nssi2tu>Dapatkan notifikasi saat fitur ini dirilis:</p> <div style="display: flex; gap: 10px; margin-top: 1rem; flex-wrap: wrap;" data-astro-cid-3nssi2tu> <input type="email" placeholder="Email Anda" class="form-input" style="flex: 1; min-width: 250px;" data-astro-cid-3nssi2tu> <button class="btn" data-astro-cid-3nssi2tu> <i class="fas fa-bell" data-astro-cid-3nssi2tu></i> Beritahu Saya
</button> </div> </div> </div> </div> </main> </div> <div class="notification" id="notification" data-astro-cid-3nssi2tu> <i class="fas fa-check-circle" data-astro-cid-3nssi2tu></i> <span data-astro-cid-3nssi2tu>Action completed successfully!</span> </div> `, ' <script type="module">\ndocument.addEventListener("DOMContentLoaded", async () => {\n  // Loading state\n  const showLoading = (show = true) => {\n    const elements = [\n      "user-email", "user-nama", "user-sektor", "user-sosmed", "user-bergabung",\n      "stat-pesan-masuk", "stat-respon-otomatis", "stat-perlu-perhatian"\n    ];\n    \n    elements.forEach(id => {\n      const el = document.getElementById(id);\n      if (el) {\n        el.textContent = show ? "Memuat..." : "-";\n      }\n    });\n    \n    const aktivitasList = document.getElementById("aktivitas-terbaru");\n    if (aktivitasList) {\n      aktivitasList.innerHTML = show ? \n        \'<div style="text-align: center; color: #666;"><i class="fas fa-spinner fa-spin"></i> Memuat aktivitas...</div>\' : \n        \'<div style="text-align: center; color: #666;">Tidak ada aktivitas terbaru</div>\';\n    }\n  };\n  \n  // Show loading initially\n  showLoading(true);\n\n  // Element references\n  const emailEl = document.getElementById("user-email");\n  const namaEl = document.getElementById("user-nama");\n  const sektorEl = document.getElementById("user-sektor");\n  const sosmedEl = document.getElementById("user-sosmed");\n  const bergabungEl = document.getElementById("user-bergabung");\n\n  const pesanMasukEl = document.getElementById("stat-pesan-masuk");\n  const responOtomatisEl = document.getElementById("stat-respon-otomatis");\n  const perluPerhatianEl = document.getElementById("stat-perlu-perhatian");\n\n  const aktivitasList = document.getElementById("aktivitas-terbaru");\n\n  try {\n    const res = await fetch("/api/dashboard-data", {\n      method: "GET",\n      headers: {\n        "Accept": "application/json",\n        "Cache-Control": "no-cache"\n      }\n    });\n    \n    if (!res.ok) {\n      throw new Error(`HTTP ${res.status}: ${res.statusText}`);\n    }\n    \n    const data = await res.json();\n    console.log("DATA DASHBOARD:", data);\n\n    // Update profil dengan fallback\n    if (emailEl) emailEl.textContent = data.user?.email || "demo@example.com";\n    if (namaEl) namaEl.textContent = data.user?.nama_umkm || "Demo UMKM";\n    if (sektorEl) sektorEl.textContent = data.user?.sektor || "Demo Sektor";\n    \n    if (sosmedEl) {\n      const sosmed = data.user?.sosmed;\n      if (Array.isArray(sosmed)) {\n        sosmedEl.textContent = sosmed.join(", ");\n      } else if (sosmed) {\n        sosmedEl.textContent = sosmed;\n      } else {\n        sosmedEl.textContent = "Instagram, WhatsApp";\n      }\n    }\n    \n    if (bergabungEl) bergabungEl.textContent = data.user?.bergabung || new Date().toLocaleDateString("id-ID");\n\n    // Update statistik\n    if (pesanMasukEl) pesanMasukEl.textContent = String(data.stats?.pesanMasuk ?? 0);\n    if (responOtomatisEl) responOtomatisEl.textContent = String(data.stats?.responOtomatis ?? 0);\n    if (perluPerhatianEl) perluPerhatianEl.textContent = String(data.stats?.perluPerhatian ?? 0);\n\n    // Update aktivitas terbaru\n    if (aktivitasList) {\n      const pesanTerbaru = data.stats?.pesanTerbaru || [];\n      \n      if (pesanTerbaru.length === 0) {\n        aktivitasList.innerHTML = `\n          <div style="text-align: center; color: #666; padding: 2rem;">\n            <i class="fas fa-inbox" style="font-size: 2rem; margin-bottom: 1rem; opacity: 0.5;"></i>\n            <div>Belum ada aktivitas terbaru</div>\n          </div>\n        `;\n      } else {\n        aktivitasList.innerHTML = "";\n        \n        pesanTerbaru.forEach((item, index) => {\n          let icon = "fa-comment";\n          let bg = "#667eea";\n          let statusText = "Pesan baru";\n          \n          if (item.status === "otomatis") { \n            icon = "fa-check-circle"; \n            bg = "#28a745"; \n            statusText = "Respon otomatis terkirim";\n          } else if (item.status === "perlu_perhatian") { \n            icon = "fa-exclamation-triangle"; \n            bg = "#ffc107"; \n            statusText = "Pesan perlu perhatian";\n          } else {\n            statusText = `Pesan baru dari ${item.nama || "Customer"}`;\n          }\n          \n          // Format waktu\n          let waktuFormatted = "Baru saja";\n          try {\n            const waktu = new Date(item.waktu);\n            if (!isNaN(waktu.getTime())) {\n              waktuFormatted = waktu.toLocaleString("id-ID", {\n                day: "2-digit",\n                month: "short",\n                year: "numeric",\n                hour: "2-digit",\n                minute: "2-digit"\n              });\n            }\n          } catch (e) {\n            console.warn("Error formatting date:", e);\n          }\n          \n          // Potong pesan jika terlalu panjang\n          const isiPesan = (item.isi || "No message").length > 100 ? \n            (item.isi || "No message").substring(0, 100) + "..." : \n            (item.isi || "No message");\n          \n          aktivitasList.innerHTML += `\n            <div style="display: flex; align-items: center; gap: 15px; margin-bottom: ${index < pesanTerbaru.length - 1 ? \'1.2rem\' : \'0\'};">\n              <div style="background: ${bg}; color: white; width: 40px; height: 40px; border-radius: 50%; display: flex; align-items: center; justify-content: center; flex-shrink: 0;">\n                <i class="fas ${icon}"></i>\n              </div>\n              <div style="flex: 1; min-width: 0;">\n                <div style="font-weight: 500; margin-bottom: 4px;">${statusText}</div>\n                <div style="color: #666; font-size: 0.9rem; line-height: 1.4;">\n                  "${isiPesan}"\n                  <br>\n                  <span style="font-size: 0.8rem; color: #999;">${waktuFormatted}</span>\n                </div>\n              </div>\n            </div>\n          `;\n        });\n      }\n    }\n\n  } catch (err) {\n    console.error("Dashboard loading error:", err);\n    \n    // Show error state dengan data fallback\n    showLoading(false);\n    \n    // Set fallback data\n    if (emailEl) emailEl.textContent = "demo@example.com";\n    if (namaEl) namaEl.textContent = "Demo UMKM";\n    if (sektorEl) sektorEl.textContent = "Demo Sektor";\n    if (sosmedEl) sosmedEl.textContent = "Instagram, WhatsApp";\n    if (bergabungEl) bergabungEl.textContent = new Date().toLocaleDateString("id-ID");\n    \n    if (pesanMasukEl) pesanMasukEl.textContent = "0";\n    if (responOtomatisEl) responOtomatisEl.textContent = "0";\n    if (perluPerhatianEl) perluPerhatianEl.textContent = "0";\n    \n    if (aktivitasList) {\n      aktivitasList.innerHTML = `\n        <div style="text-align: center; color: #dc3545; padding: 2rem;">\n          <i class="fas fa-exclamation-triangle" style="font-size: 2rem; margin-bottom: 1rem;"></i>\n          <div style="margin-bottom: 0.5rem;">Gagal memuat data dashboard</div>\n          <div style="font-size: 0.9rem; color: #666;">\n            ${err.message || "Terjadi kesalahan saat mengambil data"}\n          </div>\n          <button onclick="location.reload()" style="\n            margin-top: 1rem; \n            padding: 0.5rem 1rem; \n            background: #007bff; \n            color: white; \n            border: none; \n            border-radius: 4px; \n            cursor: pointer;\n          ">\n            <i class="fas fa-refresh"></i> Muat Ulang\n          </button>\n        </div>\n      `;\n    }\n    \n    // Optional: Show toast notification\n    const showErrorToast = () => {\n      const toast = document.createElement(\'div\');\n      toast.style.cssText = `\n        position: fixed;\n        top: 20px;\n        right: 20px;\n        background: #dc3545;\n        color: white;\n        padding: 1rem 1.5rem;\n        border-radius: 8px;\n        box-shadow: 0 4px 12px rgba(0,0,0,0.2);\n        z-index: 1000;\n        animation: slideIn 0.3s ease;\n      `;\n      toast.innerHTML = `\n        <i class="fas fa-exclamation-circle"></i>\n        Gagal memuat dashboard. Menggunakan data demo.\n      `;\n      \n      // Add animation\n      const style = document.createElement(\'style\');\n      style.textContent = `\n        @keyframes slideIn {\n          from { transform: translateX(100%); opacity: 0; }\n          to { transform: translateX(0); opacity: 1; }\n        }\n      `;\n      document.head.appendChild(style);\n      document.body.appendChild(toast);\n      \n      // Auto remove after 5 seconds\n      setTimeout(() => {\n        toast.style.animation = \'slideIn 0.3s ease reverse\';\n        setTimeout(() => toast.remove(), 300);\n      }, 5000);\n    };\n    \n    showErrorToast();\n  }\n});\n<\/script> ', " ", " </body> </html>"], ['<html lang="id" data-astro-cid-3nssi2tu> <head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Dashboard - TukangCS</title><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">', `</head> <body data-astro-cid-3nssi2tu> <div class="header" data-astro-cid-3nssi2tu> <div style="display: flex; align-items: center; gap: 1rem;" data-astro-cid-3nssi2tu> <button class="mobile-menu-toggle" onclick="toggleSidebar()" data-astro-cid-3nssi2tu> <i class="fas fa-bars" data-astro-cid-3nssi2tu></i> </button> <div class="logo" data-astro-cid-3nssi2tu> <i class="fas fa-headset" data-astro-cid-3nssi2tu></i> <span data-astro-cid-3nssi2tu>TukangCS</span> </div> </div> <div class="user-header" data-astro-cid-3nssi2tu> <div class="user-avatar" data-astro-cid-3nssi2tu>U</div> <button class="logout-btn" onclick="logout()" data-astro-cid-3nssi2tu> <i class="fas fa-sign-out-alt" data-astro-cid-3nssi2tu></i> <span data-astro-cid-3nssi2tu>Logout</span> </button> </div> </div> <div class="overlay" id="overlay" onclick="closeSidebar()" data-astro-cid-3nssi2tu></div> <div class="layout" data-astro-cid-3nssi2tu> <nav class="sidebar" id="sidebar" data-astro-cid-3nssi2tu> <ul class="sidebar-menu" data-astro-cid-3nssi2tu> <li class="menu-item" data-astro-cid-3nssi2tu> <a href="javascript:void(0)" class="menu-link active" onclick="showSection('dashboard', event)" data-astro-cid-3nssi2tu> <span class="menu-icon" data-astro-cid-3nssi2tu><i class="fas fa-home" data-astro-cid-3nssi2tu></i></span>
Dashboard
</a> </li> <li class="menu-item" data-astro-cid-3nssi2tu> <a href="javascript:void(0)" class="menu-link" onclick="showSection('social-media', event)" data-astro-cid-3nssi2tu> <span class="menu-icon" data-astro-cid-3nssi2tu><i class="fas fa-mobile-alt" data-astro-cid-3nssi2tu></i></span>
Kelola Media Sosial
</a> </li> <li class="menu-item" data-astro-cid-3nssi2tu> <a href="javascript:void(0)" class="menu-link" onclick="showSection('knowledge-base', event)" data-astro-cid-3nssi2tu> <span class="menu-icon" data-astro-cid-3nssi2tu><i class="fas fa-folder-open" data-astro-cid-3nssi2tu></i></span>
Knowledge Base
</a> </li> <li class="menu-item" data-astro-cid-3nssi2tu> <a href="javascript:void(0)" class="menu-link" onclick="showSection('sentiment-analysis', event)" data-astro-cid-3nssi2tu> <span class="menu-icon" data-astro-cid-3nssi2tu><i class="fas fa-chart-pie" data-astro-cid-3nssi2tu></i></span>
Analisis Sentimen
</a> </li> <li class="menu-item" data-astro-cid-3nssi2tu> <a href="javascript:void(0)" class="menu-link" onclick="showSection('chatbot', event)" data-astro-cid-3nssi2tu> <span class="menu-icon" data-astro-cid-3nssi2tu><i class="fas fa-robot" data-astro-cid-3nssi2tu></i></span>
Chatbot AI
</a> </li> <li class="menu-item" data-astro-cid-3nssi2tu> <a href="javascript:void(0)" class="menu-link" onclick="showSection('analytics', event)" data-astro-cid-3nssi2tu> <span class="menu-icon" data-astro-cid-3nssi2tu><i class="fas fa-chart-line" data-astro-cid-3nssi2tu></i></span>
Analytics
</a> </li> </ul> </nav> <main class="main-content" data-astro-cid-3nssi2tu> <!-- Dashboard Section --> <div id="dashboard" class="content-section active" data-astro-cid-3nssi2tu> <div class="welcome-card" data-astro-cid-3nssi2tu> <h1 class="welcome-title" data-astro-cid-3nssi2tu> <i class="fas fa-hand-wave" data-astro-cid-3nssi2tu></i>
Selamat Datang! \u{1F44B}
</h1> <p class="welcome-subtitle" data-astro-cid-3nssi2tu>Anda berhasil masuk ke dashboard TukangCS</p> <div class="user-info" data-astro-cid-3nssi2tu> <h3 data-astro-cid-3nssi2tu><i class="fas fa-user-circle" data-astro-cid-3nssi2tu></i> Informasi Profil</h3> <p data-astro-cid-3nssi2tu><strong data-astro-cid-3nssi2tu>Email:</strong> <span id="user-email" data-astro-cid-3nssi2tu>-</span></p> <p data-astro-cid-3nssi2tu><strong data-astro-cid-3nssi2tu>Nama UMKM:</strong> <span id="user-nama" data-astro-cid-3nssi2tu>-</span></p> <p data-astro-cid-3nssi2tu><strong data-astro-cid-3nssi2tu>Sektor:</strong> <span id="user-sektor" data-astro-cid-3nssi2tu>-</span></p> <p data-astro-cid-3nssi2tu><strong data-astro-cid-3nssi2tu>Platform Sosmed:</strong> <span id="user-sosmed" data-astro-cid-3nssi2tu>-</span></p> <p data-astro-cid-3nssi2tu><strong data-astro-cid-3nssi2tu>Bergabung:</strong> <span id="user-bergabung" data-astro-cid-3nssi2tu>-</span></p> </div> </div> <div class="card" data-astro-cid-3nssi2tu> <h2 class="card-title" data-astro-cid-3nssi2tu><i class="fas fa-chart-bar" data-astro-cid-3nssi2tu></i> Ringkasan Aktivitas</h2> <div class="sentiment-stats" data-astro-cid-3nssi2tu> <div class="stat-card" data-astro-cid-3nssi2tu> <div class="stat-number stat-positive" id="stat-pesan-masuk" data-astro-cid-3nssi2tu>0</div> <div data-astro-cid-3nssi2tu>Pesan Masuk Hari Ini</div> </div> <div class="stat-card" data-astro-cid-3nssi2tu> <div class="stat-number stat-neutral" id="stat-respon-otomatis" data-astro-cid-3nssi2tu>0</div> <div data-astro-cid-3nssi2tu>Respon Otomatis</div> </div> <div class="stat-card" data-astro-cid-3nssi2tu> <div class="stat-number stat-negative" id="stat-perlu-perhatian" data-astro-cid-3nssi2tu>0</div> <div data-astro-cid-3nssi2tu>Perlu Perhatian</div> </div> </div> <div style="margin-top: 2rem;" data-astro-cid-3nssi2tu> <h3 style="margin-bottom: 1rem;" data-astro-cid-3nssi2tu>Aktivitas Terbaru</h3> <div id="aktivitas-terbaru" style="background: #f8f9fa; border-radius: 8px; padding: 1.5rem;" data-astro-cid-3nssi2tu> <!-- Diisi via JS --> </div> </div> </div> </div> <!-- Social Media Management Section --> <div id="social-media" class="content-section" data-astro-cid-3nssi2tu> <div class="card" data-astro-cid-3nssi2tu> <h2 class="card-title" data-astro-cid-3nssi2tu><i class="fas fa-mobile-alt" data-astro-cid-3nssi2tu></i> Kelola Media Sosial</h2> <p data-astro-cid-3nssi2tu>Hubungkan dan kelola akun media sosial Anda dalam satu dashboard.</p> <div class="social-platform connected whatsapp" data-astro-cid-3nssi2tu> <!-- Tambahkan di bagian WhatsApp pada dashboard --> <div class="social-platform disconnected whatsapp" id="wa-platform" data-astro-cid-3nssi2tu> <div class="platform-info" data-astro-cid-3nssi2tu> <span class="platform-icon" data-astro-cid-3nssi2tu><i class="fab fa-whatsapp" data-astro-cid-3nssi2tu></i></span> <div data-astro-cid-3nssi2tu> <h4 data-astro-cid-3nssi2tu>WhatsApp Business</h4> <p id="wa-phone" data-astro-cid-3nssi2tu>Belum terhubung</p> </div> </div> <div data-astro-cid-3nssi2tu> <span class="status-badge status-disconnected" id="wa-status" data-astro-cid-3nssi2tu>Terputus</span> <button class="btn" id="wa-connect-btn" style="margin-left: 0.5rem;" data-astro-cid-3nssi2tu> <i class="fas fa-link" data-astro-cid-3nssi2tu></i> Hubungkan
</button> </div> </div> <!-- Modal QR Code --> <div id="wa-qr-modal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.7); z-index: 2000; align-items: center; justify-content: center;" data-astro-cid-3nssi2tu> <div style="background: white; padding: 2rem; border-radius: 12px; text-align: center;" data-astro-cid-3nssi2tu> <h3 style="margin-bottom: 1rem;" data-astro-cid-3nssi2tu>Scan QR Code</h3> <div id="wa-qr-img" data-astro-cid-3nssi2tu></div> <p style="margin-top: 1rem;" data-astro-cid-3nssi2tu>Scan QR code ini dengan WhatsApp di perangkat Anda</p> <button class="btn" style="margin-top: 1rem;" onclick="document.getElementById('wa-qr-modal').style.display='none'" data-astro-cid-3nssi2tu>Tutup</button> </div> </div> </div> <div class="social-platform connected instagram" data-astro-cid-3nssi2tu> <div class="platform-info" data-astro-cid-3nssi2tu> <span class="platform-icon" data-astro-cid-3nssi2tu><i class="fab fa-instagram" data-astro-cid-3nssi2tu></i></span> <div data-astro-cid-3nssi2tu> <h4 data-astro-cid-3nssi2tu>Instagram</h4> <p data-astro-cid-3nssi2tu>@tokoserbaguanajaya</p> </div> </div> <div data-astro-cid-3nssi2tu> <span class="status-badge status-connected" data-astro-cid-3nssi2tu>Terhubung</span> <button class="btn btn-secondary" style="margin-left: 0.5rem;" data-astro-cid-3nssi2tu> <i class="fas fa-cog" data-astro-cid-3nssi2tu></i> Kelola
</button> </div> </div> <div class="social-platform disconnected facebook" data-astro-cid-3nssi2tu> <div class="platform-info" data-astro-cid-3nssi2tu> <span class="platform-icon" data-astro-cid-3nssi2tu><i class="fab fa-facebook" data-astro-cid-3nssi2tu></i></span> <div data-astro-cid-3nssi2tu> <h4 data-astro-cid-3nssi2tu>Facebook</h4> <p data-astro-cid-3nssi2tu>Belum terhubung</p> </div> </div> <div data-astro-cid-3nssi2tu> <span class="status-badge status-disconnected" data-astro-cid-3nssi2tu>Terputus</span> <button class="btn" style="margin-left: 0.5rem;" onclick="connectPlatform('Facebook')" data-astro-cid-3nssi2tu> <i class="fas fa-link" data-astro-cid-3nssi2tu></i> Hubungkan
</button> </div> </div> <div class="social-platform disconnected twitter" data-astro-cid-3nssi2tu> <div class="platform-info" data-astro-cid-3nssi2tu> <span class="platform-icon" data-astro-cid-3nssi2tu><i class="fab fa-twitter" data-astro-cid-3nssi2tu></i></span> <div data-astro-cid-3nssi2tu> <h4 data-astro-cid-3nssi2tu>Twitter/X</h4> <p data-astro-cid-3nssi2tu>Belum terhubung</p> </div> </div> <div data-astro-cid-3nssi2tu> <span class="status-badge status-disconnected" data-astro-cid-3nssi2tu>Terputus</span> <button class="btn" style="margin-left: 0.5rem;" onclick="connectPlatform('Twitter')" data-astro-cid-3nssi2tu> <i class="fas fa-link" data-astro-cid-3nssi2tu></i> Hubungkan
</button> </div> </div> </div> </div> <!-- Knowledge Base Section --> <div id="knowledge-base" class="content-section" data-astro-cid-3nssi2tu> <div class="card" data-astro-cid-3nssi2tu> <h2 class="card-title" data-astro-cid-3nssi2tu><i class="fas fa-folder-open" data-astro-cid-3nssi2tu></i> Knowledge Base</h2> <p data-astro-cid-3nssi2tu>Upload dokumen perusahaan dan data teks untuk melatih chatbot AI Anda.</p> <div class="form-group" data-astro-cid-3nssi2tu> <label class="form-label" data-astro-cid-3nssi2tu>Upload Dokumen Perusahaan</label> <div class="upload-area" onclick="document.getElementById('fileInput').click()" data-astro-cid-3nssi2tu> <div class="upload-icon" data-astro-cid-3nssi2tu><i class="fas fa-cloud-upload-alt" data-astro-cid-3nssi2tu></i></div> <p data-astro-cid-3nssi2tu>Klik untuk upload dokumen (PDF, DOC, TXT)</p> <small data-astro-cid-3nssi2tu>Maksimal 10MB per file</small> </div> <input type="file" id="fileInput" style="display: none;" multiple accept=".pdf,.doc,.docx,.txt" data-astro-cid-3nssi2tu> </div> <div class="form-group" data-astro-cid-3nssi2tu> <label class="form-label" data-astro-cid-3nssi2tu>Tambah Data Teks</label> <textarea class="form-textarea" placeholder="Masukkan informasi tentang produk, layanan, FAQ, atau data perusahaan lainnya..." data-astro-cid-3nssi2tu></textarea> <button class="btn" style="margin-top: 0.5rem;" data-astro-cid-3nssi2tu> <i class="fas fa-save" data-astro-cid-3nssi2tu></i> Simpan Data Teks
</button> </div> <h3 style="margin: 2rem 0 1rem 0;" data-astro-cid-3nssi2tu><i class="fas fa-file-alt" data-astro-cid-3nssi2tu></i> Dokumen Tersimpan</h3> <div class="document-item" data-astro-cid-3nssi2tu> <div class="document-info" data-astro-cid-3nssi2tu> <span class="document-icon" data-astro-cid-3nssi2tu><i class="fas fa-file-pdf" data-astro-cid-3nssi2tu></i></span> <div data-astro-cid-3nssi2tu> <h4 data-astro-cid-3nssi2tu>Katalog Produk 2025.pdf</h4> <small data-astro-cid-3nssi2tu>Diupload 20 Juni 2025 \u2022 2.3 MB</small> </div> </div> <button class="btn btn-danger" data-astro-cid-3nssi2tu> <i class="fas fa-trash" data-astro-cid-3nssi2tu></i> Hapus
</button> </div> <div class="document-item" data-astro-cid-3nssi2tu> <div class="document-info" data-astro-cid-3nssi2tu> <span class="document-icon" data-astro-cid-3nssi2tu><i class="fas fa-file-alt" data-astro-cid-3nssi2tu></i></span> <div data-astro-cid-3nssi2tu> <h4 data-astro-cid-3nssi2tu>FAQ Pelanggan</h4> <small data-astro-cid-3nssi2tu>Data teks \u2022 1,245 karakter</small> </div> </div> <button class="btn btn-danger" data-astro-cid-3nssi2tu> <i class="fas fa-trash" data-astro-cid-3nssi2tu></i> Hapus
</button> </div> <div class="document-item" data-astro-cid-3nssi2tu> <div class="document-info" data-astro-cid-3nssi2tu> <span class="document-icon" data-astro-cid-3nssi2tu><i class="fas fa-file-word" data-astro-cid-3nssi2tu></i></span> <div data-astro-cid-3nssi2tu> <h4 data-astro-cid-3nssi2tu>Kebijakan Return.docx</h4> <small data-astro-cid-3nssi2tu>Diupload 19 Juni 2025 \u2022 1.1 MB</small> </div> </div> <button class="btn btn-danger" data-astro-cid-3nssi2tu> <i class="fas fa-trash" data-astro-cid-3nssi2tu></i> Hapus
</button> </div> </div> </div> <!-- Sentiment Analysis Section --> <div id="sentiment-analysis" class="content-section" data-astro-cid-3nssi2tu> <div class="card" data-astro-cid-3nssi2tu> <h2 class="card-title" data-astro-cid-3nssi2tu><i class="fas fa-chart-pie" data-astro-cid-3nssi2tu></i> Analisis Sentimen</h2> <p data-astro-cid-3nssi2tu>Analisis sentimen dari pesan pelanggan dan visualisasi dengan word cloud.</p> <div class="sentiment-stats" data-astro-cid-3nssi2tu> <div class="stat-card" data-astro-cid-3nssi2tu> <div class="stat-number stat-positive" data-astro-cid-3nssi2tu>67%</div> <div data-astro-cid-3nssi2tu>Sentimen Positif</div> </div> <div class="stat-card" data-astro-cid-3nssi2tu> <div class="stat-number stat-neutral" data-astro-cid-3nssi2tu>23%</div> <div data-astro-cid-3nssi2tu>Sentimen Netral</div> </div> <div class="stat-card" data-astro-cid-3nssi2tu> <div class="stat-number stat-negative" data-astro-cid-3nssi2tu>10%</div> <div data-astro-cid-3nssi2tu>Sentimen Negatif</div> </div> </div> <h3 style="margin: 2rem 0 1rem 0;" data-astro-cid-3nssi2tu><i class="fas fa-cloud" data-astro-cid-3nssi2tu></i> Word Cloud</h3> <div class="wordcloud-container" id="wordcloudContainer" data-astro-cid-3nssi2tu> <div style="text-align: center; color: #667eea;" data-astro-cid-3nssi2tu> <div style="font-size: 4rem; margin-bottom: 1rem;" data-astro-cid-3nssi2tu><i class="fas fa-cloud" data-astro-cid-3nssi2tu></i></div> <h3 data-astro-cid-3nssi2tu>Word Cloud akan muncul di sini</h3> <p data-astro-cid-3nssi2tu>Berdasarkan analisis pesan pelanggan terbaru</p> <button class="btn" style="margin-top: 1rem;" onclick="generateWordCloud()" data-astro-cid-3nssi2tu> <i class="fas fa-sync-alt" data-astro-cid-3nssi2tu></i> Generate Word Cloud
</button> </div> </div> <div class="form-group" style="margin-top: 2rem;" data-astro-cid-3nssi2tu> <label class="form-label" data-astro-cid-3nssi2tu>Filter Periode</label> <div style="display: flex; gap: 1rem; align-items: center; flex-wrap: wrap;" data-astro-cid-3nssi2tu> <select class="form-select" style="width: auto; flex: 1;" data-astro-cid-3nssi2tu> <option data-astro-cid-3nssi2tu>7 hari terakhir</option> <option data-astro-cid-3nssi2tu>30 hari terakhir</option> <option data-astro-cid-3nssi2tu>3 bulan terakhir</option> <option data-astro-cid-3nssi2tu>Custom</option> </select> <button class="btn" data-astro-cid-3nssi2tu> <i class="fas fa-redo" data-astro-cid-3nssi2tu></i> Refresh Analisis
</button> </div> </div> </div> </div> <!-- Chatbot Section --> <div id="chatbot" class="content-section" data-astro-cid-3nssi2tu> <div class="card" data-astro-cid-3nssi2tu> <h2 class="card-title" data-astro-cid-3nssi2tu><i class="fas fa-robot" data-astro-cid-3nssi2tu></i> Chatbot AI</h2> <p data-astro-cid-3nssi2tu>Konfigurasi dan kelola chatbot AI untuk customer service otomatis.</p> <div style="background: rgba(255, 193, 7, 0.1); border-left: 4px solid #ffc107; padding: 1.5rem; border-radius: 8px; margin: 1.5rem 0;" data-astro-cid-3nssi2tu> <h3 style="display: flex; align-items: center; gap: 10px; margin-bottom: 0.8rem;" data-astro-cid-3nssi2tu> <i class="fas fa-tools" style="color: #ffc107;" data-astro-cid-3nssi2tu></i> <span data-astro-cid-3nssi2tu>\u{1F6A7} Coming Soon</span> </h3> <p data-astro-cid-3nssi2tu>Fitur chatbot AI sedang dalam pengembangan dan akan segera hadir!</p> <p style="margin-top: 0.8rem;" data-astro-cid-3nssi2tu>Dapatkan notifikasi saat fitur ini dirilis:</p> <div style="display: flex; gap: 10px; margin-top: 1rem; flex-wrap: wrap;" data-astro-cid-3nssi2tu> <input type="email" placeholder="Email Anda" class="form-input" style="flex: 1; min-width: 250px;" data-astro-cid-3nssi2tu> <button class="btn" data-astro-cid-3nssi2tu> <i class="fas fa-bell" data-astro-cid-3nssi2tu></i> Beritahu Saya
</button> </div> </div> </div> </div> <!-- Analytics Section --> <div id="analytics" class="content-section" data-astro-cid-3nssi2tu> <div class="card" data-astro-cid-3nssi2tu> <h2 class="card-title" data-astro-cid-3nssi2tu><i class="fas fa-chart-line" data-astro-cid-3nssi2tu></i> Analytics</h2> <p data-astro-cid-3nssi2tu>Dashboard analitik lengkap untuk performa bisnis dan interaksi pelanggan.</p> <div style="background: rgba(255, 193, 7, 0.1); border-left: 4px solid #ffc107; padding: 1.5rem; border-radius: 8px; margin: 1.5rem 0;" data-astro-cid-3nssi2tu> <h3 style="display: flex; align-items: center; gap: 10px; margin-bottom: 0.8rem;" data-astro-cid-3nssi2tu> <i class="fas fa-tools" style="color: #ffc107;" data-astro-cid-3nssi2tu></i> <span data-astro-cid-3nssi2tu>\u{1F6A7} Coming Soon</span> </h3> <p data-astro-cid-3nssi2tu>Fitur analytics dashboard sedang dalam pengembangan dan akan segera hadir!</p> <p style="margin-top: 0.8rem;" data-astro-cid-3nssi2tu>Dapatkan notifikasi saat fitur ini dirilis:</p> <div style="display: flex; gap: 10px; margin-top: 1rem; flex-wrap: wrap;" data-astro-cid-3nssi2tu> <input type="email" placeholder="Email Anda" class="form-input" style="flex: 1; min-width: 250px;" data-astro-cid-3nssi2tu> <button class="btn" data-astro-cid-3nssi2tu> <i class="fas fa-bell" data-astro-cid-3nssi2tu></i> Beritahu Saya
</button> </div> </div> </div> </div> </main> </div> <div class="notification" id="notification" data-astro-cid-3nssi2tu> <i class="fas fa-check-circle" data-astro-cid-3nssi2tu></i> <span data-astro-cid-3nssi2tu>Action completed successfully!</span> </div> `, ' <script type="module">\ndocument.addEventListener("DOMContentLoaded", async () => {\n  // Loading state\n  const showLoading = (show = true) => {\n    const elements = [\n      "user-email", "user-nama", "user-sektor", "user-sosmed", "user-bergabung",\n      "stat-pesan-masuk", "stat-respon-otomatis", "stat-perlu-perhatian"\n    ];\n    \n    elements.forEach(id => {\n      const el = document.getElementById(id);\n      if (el) {\n        el.textContent = show ? "Memuat..." : "-";\n      }\n    });\n    \n    const aktivitasList = document.getElementById("aktivitas-terbaru");\n    if (aktivitasList) {\n      aktivitasList.innerHTML = show ? \n        \'<div style="text-align: center; color: #666;"><i class="fas fa-spinner fa-spin"></i> Memuat aktivitas...</div>\' : \n        \'<div style="text-align: center; color: #666;">Tidak ada aktivitas terbaru</div>\';\n    }\n  };\n  \n  // Show loading initially\n  showLoading(true);\n\n  // Element references\n  const emailEl = document.getElementById("user-email");\n  const namaEl = document.getElementById("user-nama");\n  const sektorEl = document.getElementById("user-sektor");\n  const sosmedEl = document.getElementById("user-sosmed");\n  const bergabungEl = document.getElementById("user-bergabung");\n\n  const pesanMasukEl = document.getElementById("stat-pesan-masuk");\n  const responOtomatisEl = document.getElementById("stat-respon-otomatis");\n  const perluPerhatianEl = document.getElementById("stat-perlu-perhatian");\n\n  const aktivitasList = document.getElementById("aktivitas-terbaru");\n\n  try {\n    const res = await fetch("/api/dashboard-data", {\n      method: "GET",\n      headers: {\n        "Accept": "application/json",\n        "Cache-Control": "no-cache"\n      }\n    });\n    \n    if (!res.ok) {\n      throw new Error(\\`HTTP \\${res.status}: \\${res.statusText}\\`);\n    }\n    \n    const data = await res.json();\n    console.log("DATA DASHBOARD:", data);\n\n    // Update profil dengan fallback\n    if (emailEl) emailEl.textContent = data.user?.email || "demo@example.com";\n    if (namaEl) namaEl.textContent = data.user?.nama_umkm || "Demo UMKM";\n    if (sektorEl) sektorEl.textContent = data.user?.sektor || "Demo Sektor";\n    \n    if (sosmedEl) {\n      const sosmed = data.user?.sosmed;\n      if (Array.isArray(sosmed)) {\n        sosmedEl.textContent = sosmed.join(", ");\n      } else if (sosmed) {\n        sosmedEl.textContent = sosmed;\n      } else {\n        sosmedEl.textContent = "Instagram, WhatsApp";\n      }\n    }\n    \n    if (bergabungEl) bergabungEl.textContent = data.user?.bergabung || new Date().toLocaleDateString("id-ID");\n\n    // Update statistik\n    if (pesanMasukEl) pesanMasukEl.textContent = String(data.stats?.pesanMasuk ?? 0);\n    if (responOtomatisEl) responOtomatisEl.textContent = String(data.stats?.responOtomatis ?? 0);\n    if (perluPerhatianEl) perluPerhatianEl.textContent = String(data.stats?.perluPerhatian ?? 0);\n\n    // Update aktivitas terbaru\n    if (aktivitasList) {\n      const pesanTerbaru = data.stats?.pesanTerbaru || [];\n      \n      if (pesanTerbaru.length === 0) {\n        aktivitasList.innerHTML = \\`\n          <div style="text-align: center; color: #666; padding: 2rem;">\n            <i class="fas fa-inbox" style="font-size: 2rem; margin-bottom: 1rem; opacity: 0.5;"></i>\n            <div>Belum ada aktivitas terbaru</div>\n          </div>\n        \\`;\n      } else {\n        aktivitasList.innerHTML = "";\n        \n        pesanTerbaru.forEach((item, index) => {\n          let icon = "fa-comment";\n          let bg = "#667eea";\n          let statusText = "Pesan baru";\n          \n          if (item.status === "otomatis") { \n            icon = "fa-check-circle"; \n            bg = "#28a745"; \n            statusText = "Respon otomatis terkirim";\n          } else if (item.status === "perlu_perhatian") { \n            icon = "fa-exclamation-triangle"; \n            bg = "#ffc107"; \n            statusText = "Pesan perlu perhatian";\n          } else {\n            statusText = \\`Pesan baru dari \\${item.nama || "Customer"}\\`;\n          }\n          \n          // Format waktu\n          let waktuFormatted = "Baru saja";\n          try {\n            const waktu = new Date(item.waktu);\n            if (!isNaN(waktu.getTime())) {\n              waktuFormatted = waktu.toLocaleString("id-ID", {\n                day: "2-digit",\n                month: "short",\n                year: "numeric",\n                hour: "2-digit",\n                minute: "2-digit"\n              });\n            }\n          } catch (e) {\n            console.warn("Error formatting date:", e);\n          }\n          \n          // Potong pesan jika terlalu panjang\n          const isiPesan = (item.isi || "No message").length > 100 ? \n            (item.isi || "No message").substring(0, 100) + "..." : \n            (item.isi || "No message");\n          \n          aktivitasList.innerHTML += \\`\n            <div style="display: flex; align-items: center; gap: 15px; margin-bottom: \\${index < pesanTerbaru.length - 1 ? \'1.2rem\' : \'0\'};">\n              <div style="background: \\${bg}; color: white; width: 40px; height: 40px; border-radius: 50%; display: flex; align-items: center; justify-content: center; flex-shrink: 0;">\n                <i class="fas \\${icon}"></i>\n              </div>\n              <div style="flex: 1; min-width: 0;">\n                <div style="font-weight: 500; margin-bottom: 4px;">\\${statusText}</div>\n                <div style="color: #666; font-size: 0.9rem; line-height: 1.4;">\n                  "\\${isiPesan}"\n                  <br>\n                  <span style="font-size: 0.8rem; color: #999;">\\${waktuFormatted}</span>\n                </div>\n              </div>\n            </div>\n          \\`;\n        });\n      }\n    }\n\n  } catch (err) {\n    console.error("Dashboard loading error:", err);\n    \n    // Show error state dengan data fallback\n    showLoading(false);\n    \n    // Set fallback data\n    if (emailEl) emailEl.textContent = "demo@example.com";\n    if (namaEl) namaEl.textContent = "Demo UMKM";\n    if (sektorEl) sektorEl.textContent = "Demo Sektor";\n    if (sosmedEl) sosmedEl.textContent = "Instagram, WhatsApp";\n    if (bergabungEl) bergabungEl.textContent = new Date().toLocaleDateString("id-ID");\n    \n    if (pesanMasukEl) pesanMasukEl.textContent = "0";\n    if (responOtomatisEl) responOtomatisEl.textContent = "0";\n    if (perluPerhatianEl) perluPerhatianEl.textContent = "0";\n    \n    if (aktivitasList) {\n      aktivitasList.innerHTML = \\`\n        <div style="text-align: center; color: #dc3545; padding: 2rem;">\n          <i class="fas fa-exclamation-triangle" style="font-size: 2rem; margin-bottom: 1rem;"></i>\n          <div style="margin-bottom: 0.5rem;">Gagal memuat data dashboard</div>\n          <div style="font-size: 0.9rem; color: #666;">\n            \\${err.message || "Terjadi kesalahan saat mengambil data"}\n          </div>\n          <button onclick="location.reload()" style="\n            margin-top: 1rem; \n            padding: 0.5rem 1rem; \n            background: #007bff; \n            color: white; \n            border: none; \n            border-radius: 4px; \n            cursor: pointer;\n          ">\n            <i class="fas fa-refresh"></i> Muat Ulang\n          </button>\n        </div>\n      \\`;\n    }\n    \n    // Optional: Show toast notification\n    const showErrorToast = () => {\n      const toast = document.createElement(\'div\');\n      toast.style.cssText = \\`\n        position: fixed;\n        top: 20px;\n        right: 20px;\n        background: #dc3545;\n        color: white;\n        padding: 1rem 1.5rem;\n        border-radius: 8px;\n        box-shadow: 0 4px 12px rgba(0,0,0,0.2);\n        z-index: 1000;\n        animation: slideIn 0.3s ease;\n      \\`;\n      toast.innerHTML = \\`\n        <i class="fas fa-exclamation-circle"></i>\n        Gagal memuat dashboard. Menggunakan data demo.\n      \\`;\n      \n      // Add animation\n      const style = document.createElement(\'style\');\n      style.textContent = \\`\n        @keyframes slideIn {\n          from { transform: translateX(100%); opacity: 0; }\n          to { transform: translateX(0); opacity: 1; }\n        }\n      \\`;\n      document.head.appendChild(style);\n      document.body.appendChild(toast);\n      \n      // Auto remove after 5 seconds\n      setTimeout(() => {\n        toast.style.animation = \'slideIn 0.3s ease reverse\';\n        setTimeout(() => toast.remove(), 300);\n      }, 5000);\n    };\n    \n    showErrorToast();\n  }\n});\n<\/script> ', " ", " </body> </html>"])), renderHead(), renderScript($$result, "D:/Perkuliahan/Perlombaan/ITFest/tukangcs/src/pages/dashboard.astro?astro&type=script&index=0&lang.ts"), renderScript($$result, "D:/Perkuliahan/Perlombaan/ITFest/tukangcs/src/pages/dashboard.astro?astro&type=script&index=1&lang.ts"), renderScript($$result, "D:/Perkuliahan/Perlombaan/ITFest/tukangcs/src/pages/dashboard.astro?astro&type=script&index=2&lang.ts"));
}, "D:/Perkuliahan/Perlombaan/ITFest/tukangcs/src/pages/dashboard.astro", void 0);

const $$file = "D:/Perkuliahan/Perlombaan/ITFest/tukangcs/src/pages/dashboard.astro";
const $$url = "/dashboard";

const _page = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
  __proto__: null,
  default: $$Dashboard,
  file: $$file,
  url: $$url
}, Symbol.toStringTag, { value: 'Module' }));

const page = () => _page;

export { page };
